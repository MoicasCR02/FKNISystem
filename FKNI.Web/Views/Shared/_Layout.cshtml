<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - FKNI.Web</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/FKNI.Web.styles.css" asp-append-version="true" />
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <!-- Bootstrap JS con Bundle (incluye Popper y Carousel) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Font Awesome para íconos -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

    <link rel="stylesheet" href="~/css/nude-project-design.css" />
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-sm navbar-toggleable-sm navbar-light bg-white border-bottom box-shadow mb-3 navbar-modern">
            <!-- Admin Bar - Parte Superior -->
            @if (User.IsInRole("Administrador"))
            {
                <div class="admin-bar-top">
                    <div class="admin-bar-container">
                        <div class="admin-label-top">
                            <i class="fas fa-user-shield"></i>
                            <span>Panel de Administración</span>
                        </div>
                        <ul class="navbar-nav-admin-top">
                            <li class="nav-item">
                                <a class="nav-link text-dark nav-link-admin-top" asp-area="" asp-controller="Usuarios" asp-action="Index">
                                    <i class="fas fa-users"></i>
                                    <span>Usuarios</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-dark nav-link-admin-top" asp-area="" asp-controller="Resenas" asp-action="Index">
                                    <i class="fas fa-star"></i>
                                    <span>Reseñas</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-dark nav-link-admin-top" asp-area="" asp-controller="Promociones" asp-action="Index">
                                    <i class="fas fa-tags"></i>
                                    <span>Promociones</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-dark nav-link-admin-top" asp-area="" asp-controller="Pedidos" asp-action="Index">
                                    <i class="fas fa-shopping-bag"></i>
                                    <span>Pedidos</span>
                                </a>
                            </li>
                            @if (User.Identity.IsAuthenticated)
                            {
                                <li class="nav-item">
                                    <a class="nav-link text-dark nav-link-admin-top" asp-area="" asp-controller="Productos" asp-action="IndexAdmin">
                                        <i class="fas fa-boxes"></i>
                                        <span>Productos</span>
                                    </a>
                                </li>
                            }
                        </ul>
                    </div>
                </div>
            }

            <!-- Navbar Principal -->
            <div class="container-fluid navbar-container">
                <!-- Brand Section -->
                <div class="navbar-brand-section">
                    <a class="navbar-brand navbar-brand-modern" asp-area="" asp-controller="Home" asp-action="Index">
                        <div class="brand-logo">
                            <!-- Imagen del logo local -->
                            <img src="~/Img/Logo Fucking Industry.png" alt="FKNI Logo" class="brand-image" />
                            <!-- Fallback si no se carga la imagen -->
                          @*   <div class="brand-fallback">
                                <span class="logo-text">FK</span>
                            </div> *@
                        </div>
                       @*  <div class="brand-text">
                            <div class="brand-name">FKNI</div>
                        </div> *@
                    </a>
                </div>

                <!-- Mobile Toggle -->
                <button class="navbar-toggler mobile-toggle" type="button" data-bs-toggle="collapse" data-bs-target=".navbar-collapse" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                    <div class="toggle-line"></div>
                    <div class="toggle-line"></div>
                    <div class="toggle-line"></div>
                </button>

                <!-- Navbar Content -->
                <div class="navbar-collapse collapse d-sm-inline-flex justify-content-between">
                    <div class="navbar-content">
                        <!-- Main Navigation -->
                        <ul class="navbar-nav flex-grow-1 navbar-nav-main">
                            <li class="nav-item">
                                <a class="nav-link text-dark nav-link-modern" asp-area="" asp-controller="Home" asp-action="Index">
                                    <i class="fas fa-home"></i>
                                    <span>Home</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-dark nav-link-modern" asp-area="" asp-controller="Home" asp-action="Privacy">
                                    <i class="fas fa-shield-alt"></i>
                                    <span>Privacy</span>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link text-dark nav-link-modern" asp-area="" asp-controller="Productos" asp-action="Index">
                                    <i class="fas fa-tshirt"></i>
                                    <span>Productos</span>
                                </a>
                            </li>
                        </ul>

                        <!-- User Actions -->
                        <div class="navbar-actions">
                            @if (!User.Identity.IsAuthenticated)
                            {
                                <div class="guest-actions">
                                    <a class="nav-link text-dark register-link auth-link" asp-area="" asp-controller="Usuarios" asp-action="Create">
                                        <i class="fas fa-user-plus"></i>
                                        <span>Registrarse</span>
                                    </a>
                                    <a class="nav-link text-dark login-link auth-link" asp-area="" asp-controller="Login" asp-action="Index">
                                        <i class="fas fa-sign-in-alt"></i>
                                        <span>Iniciar Sesion</span>
                                    </a>
                                </div>
                            }

                            @if (User.Identity.IsAuthenticated)
                            {
                                <!-- User Menu -->
                                <div class="user-menu">
                                    <div class="user-info">
                                        <div class="user-avatar">
                                            <i class="fas fa-user"></i>
                                        </div>
                                        <div class="user-details">
                                            <span class="user-name">@User.Identity.Name</span>
                                            <span class="user-role">
                                                @if (User.IsInRole("Administrador"))
                                                {
                                                    <span>Administrador</span>
                                                }
                                                else
                                                {
                                                    <span>Usuario</span>
                                                }
                                            </span>
                                        </div>
                                    </div>
                                    <a class="nav-link text-dark logout-link" asp-area="" asp-controller="Login" asp-action="LogOff">
                                        <i class="fas fa-sign-out-alt"></i>
                                        <span>Cerrar Sesion</span>
                                    </a>
                                </div>

                                <!-- Cart Link -->
                                <a class="nav-link text-dark cart-link" asp-area="" asp-controller="Carrito" asp-action="Index" asp-route-id="@User.FindFirst(System.Security.Claims.ClaimTypes.Actor)?.Value">
                                    <div class="cart-icon">
                                        <i class="fas fa-shopping-cart"></i>
                                    </div>
                                    <span>Carrito</span>
                                </a> 
                            }
                        </div>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <div class="container">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

   @*  <footer class="border-top footer text-muted">
        <div class="container">
            &copy; 2025 - FKNI.Web - <a asp-area="" asp-controller="Home" asp-action="Privacy">Privacy</a>
        </div>
    </footer> *@
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>

        <!--Ajax unobtrusive-->
        <script src="">
        </script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.10.4/dist/sweetalert2.all.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-ajaxunobtrusive/3.2.6/jquery.unobtrusive-ajax.js" integrity="sha512-f04GBpoqEZhbyjlRTuXeg8FIHDb+xfCJ0LVdqiN1fEl5B3jz3Z0SPe9IxDumOVdTeeXmKMcMJhb26VuGf1Laqw=="
                crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
        <!-- jQuery (necesario antes de jQuery UI) -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <!-- jQuery UI JS -->
        <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.min.js"></script>

        <!-- jQuery UI CSS -->
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/smoothness/jquery-ui.css">

    @await RenderSectionAsync("Scripts", required: false)
    @await Html.PartialAsync("_Footer")
</body>
</html>